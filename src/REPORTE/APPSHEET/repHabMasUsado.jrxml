<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="null" language="groovy" pageWidth="842" pageHeight="595" orientation="Landscape" columnWidth="842" leftMargin="0" rightMargin="0" topMargin="0" bottomMargin="0">
	<property name="ireport.zoom" value="1.0"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="0"/>
	<queryString>
		<![CDATA[SELECT 
case 
when EXTRACT(MONTH FROM h.fecha_creado)=1 then '1-ENERO'
when EXTRACT(MONTH FROM h.fecha_creado)=2 then '2-FEBRERO'
when EXTRACT(MONTH FROM h.fecha_creado)=3 then '3-MARZO'
when EXTRACT(MONTH FROM h.fecha_creado)=4 then '4-ABRIL'
when EXTRACT(MONTH FROM h.fecha_creado)=5 then '5-MAYO'
when EXTRACT(MONTH FROM h.fecha_creado)=6 then '6-JUNIO'
when EXTRACT(MONTH FROM h.fecha_creado)=7 then '7-JULIO'
when EXTRACT(MONTH FROM h.fecha_creado)=8 then '8-AGOSTO'
when EXTRACT(MONTH FROM h.fecha_creado)=9 then '9-SEPTIEMBRE'
when EXTRACT(MONTH FROM h.fecha_creado)=10 then '10-OCTUBRE'
when EXTRACT(MONTH FROM h.fecha_creado)=11 then '11-NOVIEMBRE'
when EXTRACT(MONTH FROM h.fecha_creado)=12 then '12-DICIEMBRE'
else 'error' end as mes,
to_char(h.fec_ocupado_inicio,'yyyy-MM-dd') as fec_dia,
h.nro_habitacion as nro_hab,('HAB:'||h.nro_habitacion) as habitacion,
to_char(h.fec_ocupado_inicio,'HH24:MI:ss') as inicio,
to_char(h.fec_ocupado_fin,'HH24:MI:ss') as fin,
to_char((h.fec_ocupado_fin-h.fec_ocupado_inicio),'HH24:MI:ss') as tiempo,
(v.monto_minimo+v.monto_adicional+v.monto_consumo) as total,
hd.cant_hab as cant_hab
FROM
  habitacion_recepcion h,venta v,habitacion_dato hd
 where h.idhabitacion_recepcion=v.fk_idhabitacion_recepcion
  and h.fk_idhabitacion_dato=hd.idhabitacion_dato
  and v.estado='TERMINADO';]]>
	</queryString>
	<field name="mes" class="java.lang.String"/>
	<field name="fec_dia" class="java.lang.String"/>
	<field name="nro_hab" class="java.lang.Integer"/>
	<field name="habitacion" class="java.lang.String"/>
	<field name="inicio" class="java.lang.String"/>
	<field name="fin" class="java.lang.String"/>
	<field name="tiempo" class="java.lang.String"/>
	<field name="total" class="java.math.BigDecimal"/>
	<field name="cant_hab" class="java.lang.Integer"/>
	<columnHeader>
		<band height="20" splitType="Stretch">
			<staticText>
				<reportElement x="0" y="0" width="100" height="20"/>
				<box>
					<pen lineWidth="0.5"/>
					<topPen lineWidth="0.5"/>
					<leftPen lineWidth="0.5"/>
					<bottomPen lineWidth="0.5"/>
					<rightPen lineWidth="0.5"/>
				</box>
				<textElement/>
				<text><![CDATA[mes]]></text>
			</staticText>
			<staticText>
				<reportElement x="100" y="0" width="100" height="20"/>
				<box>
					<pen lineWidth="0.5"/>
					<topPen lineWidth="0.5"/>
					<leftPen lineWidth="0.5"/>
					<bottomPen lineWidth="0.5"/>
					<rightPen lineWidth="0.5"/>
				</box>
				<textElement/>
				<text><![CDATA[fec_dia]]></text>
			</staticText>
			<staticText>
				<reportElement x="200" y="0" width="100" height="20"/>
				<box>
					<pen lineWidth="0.5"/>
					<topPen lineWidth="0.5"/>
					<leftPen lineWidth="0.5"/>
					<bottomPen lineWidth="0.5"/>
					<rightPen lineWidth="0.5"/>
				</box>
				<textElement/>
				<text><![CDATA[nro_hab]]></text>
			</staticText>
			<staticText>
				<reportElement x="300" y="0" width="100" height="20"/>
				<box>
					<pen lineWidth="0.5"/>
					<topPen lineWidth="0.5"/>
					<leftPen lineWidth="0.5"/>
					<bottomPen lineWidth="0.5"/>
					<rightPen lineWidth="0.5"/>
				</box>
				<textElement/>
				<text><![CDATA[habitacion]]></text>
			</staticText>
			<staticText>
				<reportElement x="400" y="0" width="70" height="20"/>
				<box>
					<pen lineWidth="0.5"/>
					<topPen lineWidth="0.5"/>
					<leftPen lineWidth="0.5"/>
					<bottomPen lineWidth="0.5"/>
					<rightPen lineWidth="0.5"/>
				</box>
				<textElement/>
				<text><![CDATA[inicio]]></text>
			</staticText>
			<staticText>
				<reportElement x="470" y="0" width="75" height="20"/>
				<box>
					<pen lineWidth="0.5"/>
					<topPen lineWidth="0.5"/>
					<leftPen lineWidth="0.5"/>
					<bottomPen lineWidth="0.5"/>
					<rightPen lineWidth="0.5"/>
				</box>
				<textElement/>
				<text><![CDATA[fin]]></text>
			</staticText>
			<staticText>
				<reportElement x="545" y="0" width="74" height="20"/>
				<box>
					<pen lineWidth="0.5"/>
					<topPen lineWidth="0.5"/>
					<leftPen lineWidth="0.5"/>
					<bottomPen lineWidth="0.5"/>
					<rightPen lineWidth="0.5"/>
				</box>
				<textElement/>
				<text><![CDATA[tiempo]]></text>
			</staticText>
			<staticText>
				<reportElement x="619" y="0" width="131" height="20"/>
				<box>
					<pen lineWidth="0.5"/>
					<topPen lineWidth="0.5"/>
					<leftPen lineWidth="0.5"/>
					<bottomPen lineWidth="0.5"/>
					<rightPen lineWidth="0.5"/>
				</box>
				<textElement/>
				<text><![CDATA[total]]></text>
			</staticText>
			<staticText>
				<reportElement x="750" y="0" width="92" height="20"/>
				<box>
					<pen lineWidth="0.25"/>
					<topPen lineWidth="0.25"/>
					<leftPen lineWidth="0.25"/>
					<bottomPen lineWidth="0.25"/>
					<rightPen lineWidth="0.25"/>
				</box>
				<textElement/>
				<text><![CDATA[cant_hab]]></text>
			</staticText>
		</band>
	</columnHeader>
	<detail>
		<band height="20" splitType="Stretch">
			<textField>
				<reportElement x="0" y="0" width="100" height="20"/>
				<box>
					<pen lineWidth="0.5"/>
					<topPen lineWidth="0.5"/>
					<leftPen lineWidth="0.5"/>
					<bottomPen lineWidth="0.5"/>
					<rightPen lineWidth="0.5"/>
				</box>
				<textElement/>
				<textFieldExpression><![CDATA[$F{mes}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="100" y="0" width="100" height="20"/>
				<box>
					<pen lineWidth="0.5"/>
					<topPen lineWidth="0.5"/>
					<leftPen lineWidth="0.5"/>
					<bottomPen lineWidth="0.5"/>
					<rightPen lineWidth="0.5"/>
				</box>
				<textElement/>
				<textFieldExpression><![CDATA[$F{fec_dia}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="200" y="0" width="100" height="20"/>
				<box>
					<pen lineWidth="0.5"/>
					<topPen lineWidth="0.5"/>
					<leftPen lineWidth="0.5"/>
					<bottomPen lineWidth="0.5"/>
					<rightPen lineWidth="0.5"/>
				</box>
				<textElement/>
				<textFieldExpression><![CDATA[$F{nro_hab}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="300" y="0" width="100" height="20"/>
				<box>
					<pen lineWidth="0.5"/>
					<topPen lineWidth="0.5"/>
					<leftPen lineWidth="0.5"/>
					<bottomPen lineWidth="0.5"/>
					<rightPen lineWidth="0.5"/>
				</box>
				<textElement/>
				<textFieldExpression><![CDATA[$F{habitacion}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="400" y="0" width="70" height="20"/>
				<box>
					<pen lineWidth="0.5"/>
					<topPen lineWidth="0.5"/>
					<leftPen lineWidth="0.5"/>
					<bottomPen lineWidth="0.5"/>
					<rightPen lineWidth="0.5"/>
				</box>
				<textElement/>
				<textFieldExpression><![CDATA[$F{inicio}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="470" y="0" width="75" height="20"/>
				<box>
					<pen lineWidth="0.5"/>
					<topPen lineWidth="0.5"/>
					<leftPen lineWidth="0.5"/>
					<bottomPen lineWidth="0.5"/>
					<rightPen lineWidth="0.5"/>
				</box>
				<textElement/>
				<textFieldExpression><![CDATA[$F{fin}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="619" y="0" width="131" height="20"/>
				<box>
					<pen lineWidth="0.5"/>
					<topPen lineWidth="0.5"/>
					<leftPen lineWidth="0.5"/>
					<bottomPen lineWidth="0.5"/>
					<rightPen lineWidth="0.5"/>
				</box>
				<textElement/>
				<textFieldExpression><![CDATA[$F{total}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="545" y="0" width="74" height="20"/>
				<box>
					<pen lineWidth="0.5"/>
					<topPen lineWidth="0.5"/>
					<leftPen lineWidth="0.5"/>
					<bottomPen lineWidth="0.5"/>
					<rightPen lineWidth="0.5"/>
				</box>
				<textElement/>
				<textFieldExpression><![CDATA[$F{tiempo}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="750" y="0" width="92" height="20"/>
				<box>
					<pen lineWidth="0.25"/>
					<topPen lineWidth="0.25"/>
					<leftPen lineWidth="0.25"/>
					<bottomPen lineWidth="0.25"/>
					<rightPen lineWidth="0.25"/>
				</box>
				<textElement/>
				<textFieldExpression><![CDATA[$F{cant_hab}]]></textFieldExpression>
			</textField>
		</band>
	</detail>
</jasperReport>
